********************************************************************************
********************************************************************************

Instalace OSS Spisove sluzby v3

********************************************************************************
********************************************************************************

Predtim, nez zacnete s instalaci, si overte zakladni pozadavky pro spusteni aplikace:

Apache 2
PHP 5.2 a vyssi
MySQL 5 a vyssi
povolen .htaccess (AllowOverride All)
povolen mod_rewrite
dostupne PHP knihovny iconv, mbstring, curl, open_ssl, soap, mail,


1. Nahrejte vsechny soubory uvedene v tomto archivu na server.

2. Pro adresare /client a /log nastavte plne pravo zapisu (vcetne podadresaru):
/client/
    /files/       = slozka pro prilohy dokumentu
    /configs/     = slozka konfiguracnich souboru
    /sessions/    = slozka pro ukladani session
    /temp/        = slozka pro ukladani docasnych souboru
/log/        = slozka pro logovani chyb

V ostatnych adresarich by se zapisovat nemelo.
Adresare /client/ (vcetne podadresaru) a /log/ nesmi byt pres webovy server pristupne.
Pro server Apache to zajistuji soubory .htaccess, pokud jsou povoleny. Spravnost tohoho
nastaveni overte, aby nebylo mozne se neopravnene dostat k citlivym datum.

2a. V korenovem adresari prejmenujte soubor index.ph na index.php. V adresari client/configs/ prejmenujte soubory s priponou .in na .ini

3. V souboru index.php upravte cesty, pokud jsou odlisne od skutecnosti:

APP_DIR    = absolutni cesta k aplikacnim souborum (adresar /app). Vetsinou nemenit!
LIBS_DIR   = absolutni cesta ke knihovnam aplikace (adresar /libs). Vetsinou nemenit!
BASE_URI   = absolutni nebo relativni url cesta k adresari /public

KLIENT     = identifikator klienta. Vetsinou nemenit!
CLIENT_DIR = absolutni cesta k uzivatelskym souborum (adresar /client). Vetsinou nemenit!


4. V souboru /client/configs/system.ini nastavte spravne hodnoty pro pristup k databazi:

database.driver = mysql          ; databazovy zdroj (aktualne pouze mysql)
database.host = localhost        ; adresa serveru
database.username =              ; prihlasovaci jmeno k databazi
database.password =              ; prihlasovaci heslo k databazi
database.database =              ; databaze (musi existovat !!!)
database.charset  = utf8         ; kodovani databaze
database.prefix  =               ; prefix tabulek ( priklad: "s3_". Pouzijte, pokud v databazi jiz existuje aplikace spisovky nebo jakekoli jine tabulky)
database.profiler = TRUE         ; povoluje profilovani - zaznamenani pouzitych SQL dotazu


5. Provedte instalacni proceduru aplikace.

Spustte internetovy prohlizec a zadejte adresu aplikace + instalace.php
Priklad: http://demo.mojespisovka.cz/instalace.php

Ridte se nyni pokyny uvedenymi na strankach instalace.

5a Kontrola serveru na minimalni pozadavky aplikace
- provede kontrolu na dostupnost komponent a minimalnich pozadavku na provoz

5b Nahrani databaze
- provede predkontrolu na existenci tabulek a nasledne nahrani vsech tabulek a dat

5c Nastaveni klienta
- zde nastavite informace o svem uradu

5d Nastaveni evidence
- zde nastavite typ evidence a podobu cisla jednaciho

5e Nastaveni spracve systemu
- zde vytvorite administratora/spravce, ktery bude spravovat aplikaci

Po uspesnem dokonceni je aplikace pripravena k pouziti.


================================================================================

Jakekoli chyby behem instalace jsou oznameny chybovou hlaskou.
Pokud je to ve Vasich silach, muzete chybu opravit. Jinak kontaktujte
odpovidajici osoby nebo navstivte stranku http://www.mojespisovka.cz.

================================================================================
UPOZORNENI:
Ve vlastnim zajmu se doporucuje pred instalaci spisove sluzby provest na serveru zalohu.
Jak souboru, tak i databaze. Neni to nutne, ale clovek nikdy nevi.
